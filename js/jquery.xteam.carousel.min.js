/*! carousel - v0.0.1 - 2013-11-01
* Copyright (c) 2013 X-Team;*/
require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({MYBPmw:[function(a,b){!function(){var a=!1,b=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.constructor=d,d.extend=arguments.callee,d}}(),b.exports=Class},{}],"class":[function(a,b){b.exports=a("MYBPmw")},{}],3:[function(a,b){var c=a("class");b.exports=c.extend({init:function(a){this.animationObject=a,this.afterAnimationCallback=this.animationObject.afterAnimation},animateForward:function(){throw"This method should be implemented by the subclass"},animateForwardDragging:function(){throw"This method should be implemented by the subclass"},animateBackwards:function(){throw"This method should be implemented by the subclass"},animateBackwardsDragging:function(){throw"This method should be implemented by the subclass"},animateToPage:function(){throw"This method should be implemented by the subclass"},setItemVisible:function(){},processAddedItem:function(){},getPixels:function(a,b){return parseInt(a.css(b).slice(0,-2),10)}})},{"class":"MYBPmw"}],4:[function(a,b){var c=a("class"),d=a("./fade-strategy"),e=a("./slider-strategy"),f=a("./no-animation-strategy");b.exports=c.extend({init:function(a,b){this.$overview=a,this.animationType=b.animationType,this.pageWidth=b.pageWidth,this.animationSpeed=b.animationSpeed,this.afterAnimationCallback=b.afterAnimationCallback,this.pagingAnimation=!1,this.carouselObject=b.carouselObject,this.animationStrategy=this._getStrategy()},moveForward:function(a){this._activatePagingFlag();var b=this.carouselObject.getCurrentItem(),c=b.data("page"),d=this.carouselObject.getItemByPageIndex(c+1);this.carouselObject.setActive(d),a?this.animationStrategy.animateForwardDragging(this.$overview,b,d):this.animationStrategy.animateForward(this.$overview,b,d)},moveBackward:function(a){this._activatePagingFlag();var b=this.carouselObject.getCurrentItem(),c=b.data("page"),d=this.carouselObject.getItemByPageIndex(c-1);this.carouselObject.setActive(d),a?this.animationStrategy.animateBackwardsDragging(this.$overview,b,d):this.animationStrategy.animateBackwards(this.$overview,b,d)},goToPage:function(a){this._activatePagingFlag();var b=this.carouselObject.getCurrentItem(),c=this.carouselObject.getItemByPageIndex(a);this.carouselObject.setActive(c),this.animationStrategy.animateToPage(this.$overview,b,c)},goToCurrentPage:function(){var a=this.carouselObject.getCurrentItem();this.goToPage(a.data("page"))},goToLastPage:function(){var a=this.carouselObject.getLastItem();this.goToPage(a.data("page"))},afterAnimation:function(){this._deactivatePagingFlag();var a=this.afterAnimationCallback,b=this;a&&a.call(b)},setItemVisible:function(a){this.animationStrategy.setItemVisible(a)},processAddedItem:function(a,b){this.animationStrategy.processAddedItem(a,b)},setActive:function(a){this.carouselObject.setActive(a)},_itemCount:function(){return this.carouselObject.getItemCount()},_getStrategy:function(){return"fade"===this.animationType?new d(this):"slide"===this.animationType?new e(this):new f(this)},_activatePagingFlag:function(){this.animate&&(this.pagingAnimation=!0)},_deactivatePagingFlag:function(){this.pagingAnimation=!1}})},{"./fade-strategy":5,"./no-animation-strategy":6,"./slider-strategy":7,"class":"MYBPmw"}],5:[function(a,b){var c=a("./abstract-strategy");b.exports=c.extend({animateForward:function(a,b,c){this._animateItem(b,c)},animateForwardDragging:function(a,b,c){this.animateForward(a,b,c)},animateBackwards:function(a,b,c){this._animateItem(b,c)},animateBackwardsDragging:function(a,b,c){this.animateBackwards(a,b,c)},animateToPage:function(a,b,c){this._animateItem(b,c)},setItemVisible:function(a){a.css("opacity",1)},processAddedItem:function(a,b){a.css("opacity",0),a.css("z-index",b.zIndex),a.data("default-z-index",b.zIndex)},_animateItem:function(a,b){b.css("z-index",this.animationObject._itemCount()+2);var c=this.animationObject.afterAnimation,d=this.animationObject,e=function(){b.css("z-index",d._itemCount()+1),a.css("z-index",a.data("default-z-index")),a.css("opacity",0),c.call(d)};b.css("transition","opacity "+this.animationObject.animationSpeed+"ms ease-out"),b.css("-webkit-transition","opacity "+this.animationObject.animationSpeed+"ms ease-out");var f=function(){b.off("transitionend",f),b.off("webkitTransitionEnd",f),b.css("transition",""),b.css("-webkit-transition",""),e()};b.on("transitionend",f),b.on("webkitTransitionEnd",f),b.css("opacity",1)}})},{"./abstract-strategy":3}],6:[function(a,b){var c=a("./slider-strategy"),d=c.extend({_animate:function(a,b){var c=this.animationObject.afterAnimation,d=this.animationObject;a.css("left",b),c.call(d)}});b.exports=d},{"./slider-strategy":7}],7:[function(a,b){var c=a("./abstract-strategy");b.exports=c.extend({animateForward:function(a){var b=this._calculatePosition(a,0,!0);this._animate(a,b)},animateForwardDragging:function(a,b){var c=this.getPixels(a,"left"),d=this.getPixels(b,"left"),e=d+c,f=this._calculatePosition(a,e,!0);this._animate(a,f),console.log("Animate Forward, overviewPosition: "+c+", currentPosition: "+d+", draggingDifference: "+e+", position: "+f)},animateBackwards:function(a){var b=this._calculatePosition(a,0,!1);this._animate(a,b)},animateBackwardsDragging:function(a,b){var c=this.getPixels(a,"left"),d=this.getPixels(b,"left"),e=d-Math.abs(c),f=this._calculatePosition(a,e,!1);this._animate(a,f),console.log("Animate Backwards, overviewPosition: "+c+", currentPosition: "+d+", draggingDifference: "+e+", position: "+f)},animateToPage:function(a,b,c){var d=this.getPixels(a,"left"),e=this.getPixels(b,"left"),f=this.getPixels(c,"left"),g=e-f,h=d;0!==g?h+=g:(e=-e,d!==e&&(h=e)),console.log("AnimateToPage, offset: "+f+", difference: "+g+", position: "+h),this._animate(a,h)},processAddedItem:function(a,b){a.css("left",b.currentOffset)},_calculatePosition:function(a,b,c){var d=this.animationObject.pageWidth-Math.abs(b);return this.getPixels(a,"left")+(c?-d:d)},_animate:function(a,b){var c=this.animationObject.afterAnimation,d=this.animationObject;a.css("transition","left "+this.animationObject.animationSpeed+"ms ease-out"),a.css("-webkit-transition","left "+this.animationObject.animationSpeed+"ms ease-out");var e=function(){a.off("transitionend",e),a.off("webkitTransitionEnd",e),a.css("transition",""),a.css("-webkit-transition",""),c.call(d)};a.on("transitionend",e),a.on("webkitTransitionEnd",e),a.css("left",b)}})},{"./abstract-strategy":3}],FGiwJs:[function(a,b){var c=a("jquery"),d=a("./dragging-module"),e=a("./paging-module"),f=a("./animation/animation-module");b.exports=function(a,b){var g,h,i,j,k,l,m={touchEnabled:!1,pageSize:1,animationType:"none",moveSpeed:1e3,pagingIndicators:!1,pageInterval:0,alwaysShowIndicators:!1,circularNavigation:!1,itemTemplate:function(){return"<div></div>"}},n=c(a),o=c.extend({},m,b),p={contentWidth:0,overviewWidth:0},q='<div class="left-indicator"><div class="triangle-left"></div></div>',r='<div class="right-indicator"><div class="triangle-right"></div></div>',s='<div class="overview"></div>',t=function(a){return v(a)},u=function(a){return j&&j.finishDragging?(j.finishDragging=!1,!1):v(a)},v=function(a){var b=c(a.currentTarget);_(),b.addClass("selected");var d=b.index();return console.debug("Item of position %d selected",d),l.pagingAnimation=!1,g.trigger("itemSelected",d),!1},w=function(){if(l.pagingAnimation)return console.debug("Carousel is currently moving. This movement has been cancelled"),!1;if(o.circularNavigation){O();var a=Q(),b=a-1;-1===b&&(b=S()-1),H(b)}else D()&&(O(),l.moveBackward())},x=function(){if(l.pagingAnimation)return console.debug("Carousel is currently moving. This movement has been cancelled"),!1;if(o.circularNavigation){O();var a=Q(),b=(a+1)%S();H(b)}else C()&&(O(),l.moveForward())},y=function(a,b,c){var d=J(),e=d-b;console.log("Position Diff: "+e),(e>=30||e>-(c.contentWidth+30))&&(a.css("left",e),E())},z=function(a,b){var c=J();if(Math.abs(c)+this.size.overviewWidth>=this.size.contentWidth)console.log("Move to last page"),l.goToLastPage();else if(c>=0)console.log("Move to first page"),l.goToPage(0);else{var d=a-b.pageX,e=d>0;Math.abs(d)>this.size.itemWidth/4?e?(console.log("Move forward"),l.moveForward(!0)):(console.log("Move backward"),l.moveBackward(!0)):(console.log("Stay in the same page"),l.goToCurrentPage())}},A=function(){B()},B=function(){h=c(".left-indicator",n),i=c(".right-indicator",n),0===h.length&&(n.append(q),h=c(".left-indicator",n)),0===i.length&&(n.append(r),i=c(".right-indicator",n)),g=c(".overview",n),0===g.length&&(n.prepend(s),g=c(".overview",n)),n.css("width",K()),g.css("left",0)},C=function(){var a=g.children(".carousel-item.active"),b=a.data("page"),c=S();return c-1>b},D=function(){var a=g.children(".carousel-item.active"),b=a.data("page");return b>0},E=function(){h.off("click",w),i.off("click",x);var a=o.circularNavigation||o.alwaysShowIndicators,b=o.alwaysShowIndicators;a?(i.css("display","block"),h.css("display","block")):(h.css("display",D()?"block":"none"),i.css("display",C()?"block":"none")),b&&N();var c=o.circularNavigation;c?(h.on("click",w),i.on("click",x)):(D()&&h.on("click",w),C()&&i.on("click",x))},F=function(){for(var a=g.children(".carousel-item"),b=a.length,d=0,e=0;e<a.length;e++){var f=c(a[e]);l.processAddedItem(f,{currentOffset:d,zIndex:b--}),d+=f.outerWidth()}},G=function(){var a=P(),b=a.data("page");k&&(k.select(b),k.enablePaginationUI())},H=function(a){l.goToPage(a)},I=function(){var a=V();a.addClass("active"),l.setItemVisible(a)},J=function(){return parseInt(g.css("left").slice(0,-2),10)},K=function(){return o.pageSize*p.itemWidth},L=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}},M=function(){o.pageInterval>0&&setInterval(function(){var a=Q(),b=(a+1)%S();H(b)},o.pageInterval)},N=function(){var a=.7;h.css("opacity",a),i.css("opacity",a)},O=function(){"slide"===o.animationType&&(h.off("click",w),i.off("click",x),k.disablePaginationUI())},P=function(){return g.children(".carousel-item.active")},Q=function(){var a=P();return a.data("page")},R=function(){return g.children(".carousel-item").length},S=function(){return Math.ceil(R()/o.pageSize)},T=function(a){return g.children(".carousel-item[data-page="+a+"]")},U=function(){return this.$overview.children(".carousel-item").last()},V=function(){return g.children(".carousel-item").first()},W=function(a){var b=P();b.removeClass("active"),a.addClass("active")},X=function(){g.empty(),g.css("left",0),Z(),E()},Y=function(a){var b=g.children();b&&b[a]&&c(b[a]).remove();for(var d=a+1;d<b.length;d++){var e=c(b[d]),f=J();e.css("left",f-p.itemWidth)}Z(),E()},Z=function(){for(var a=g.children(),b=0,c=0;c<a.length;c++)b+=p.itemWidth;p.contentWidth=b},$=function(a){_();var b=g.children();c(b[a]).addClass("selected")},_=function(){c(".selected",g).removeClass("selected")},ab=function(a,b){var d=o.itemTemplate(a),e=b?g.data("offset"):p.contentWidth,f=g.children(".carousel-item").length,h=~~(f/o.pageSize),i=c('<div class="carousel-item" data-index="'+f+'" data-page="'+h+'"></div>');g.append(i),p.itemWidth=i.outerWidth(!0),i.html(d),g.data("offset",e+p.itemWidth),i.click(u),i.on("itemTouched",t),b||(p.contentWidth+=p.itemWidth,E())},bb=function(a){if(A(),X(),g.data("offset",0),c.each(a,function(a,b){ab(b,!0)}),g.removeData("offset"),"fade"===o.animationType)L()&&N();else if(o.touchEnabled){var b={size:p,duringDragging:y,afterDragging:z};j=new d(g,b)}var h={getCurrentItem:P,getItemCount:R,getItemByPageIndex:T,getLastItem:U,getFirstItem:V,setActive:W},i={carouselObject:h,animationType:o.animationType,pageWidth:p.itemWidth*o.pageSize,animationSpeed:1e3,afterAnimationCallback:function(){E(),G()}};l=new f(g,i),F(),o.pagingIndicators&&(k=new e(n,{pageCount:S(),onPageSelected:function(a){O(),H(a)}})),I(),p.overviewWidth=K(),n.css("width",K()),Z(),E(),M()};return{render:bb,addItem:ab,removeItem:Y,selectItem:$,clearSelection:_,clear:X}}},{"./animation/animation-module":4,"./dragging-module":10,"./paging-module":13,jquery:"ERBBMR"}],carousel:[function(a,b){b.exports=a("FGiwJs")},{}],10:[function(a,b){var c=a("jquery"),d=a("class"),e=d.extend({touchClickDelayMS:300,init:function(a,b){this.size=b.size,this.updatePageWhileDragging=b.duringDragging,this.updatePageAfterDragging=b.afterDragging,this.$element=a,this.initialPageX=0,this.currentPageX=0,this.isDragging=!1,this.finishDragging=!1,this.startTouchHandlerProxy=c.proxy(this.startTouchHandler,this),this.mouseDownHandlerProxy=c.proxy(this.mouseDownHandler,this),this.dragHandlerProxy=c.proxy(this.dragHandler,this),this.endTouchHandlerProxy=c.proxy(this.endTouchHandler,this),this.mouseUpHandlerProxy=c.proxy(this.mouseUpHandler,this),this.isTouchDevice()?this.$element[0].ontouchstart=this.startTouchHandlerProxy:this.$element.on("mousedown",this.mouseDownHandlerProxy)},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}},startTouchHandler:function(a){this.touchStartTime=new Date,a.stopPropagation(),c("body").addClass("noSelect");var b=a.touches[0];return this.$element[0].ontouchmove=this.dragHandlerProxy,this.$element[0].ontouchend=this.endTouchHandlerProxy,this.$element[0].ontouchcancel=this.endTouchHandlerProxy,document.ontouchmove=this.dragHandlerProxy,document.ontouchend=this.endTouchHandlerProxy,document.ontouchcancel=this.endTouchHandlerProxy,console.debug("Start touch handler, pageX: "+b.pageX),this.initialPageX=this.currentPageX=b.pageX,!1},mouseDownHandler:function(a){return this.touchStartTime=new Date,a.stopPropagation(),c("body").addClass("noSelect"),this.$element.on("mousemove",this.dragHandlerProxy),this.$element.on("mouseup",this.mouseUpHandlerProxy),c(document).on("mousemove",this.dragHandlerProxy),c(document).on("mouseup",this.mouseUpHandlerProxy),console.debug("Start touch handler, pageX: "+a.pageX),this.initialPageX=this.currentPageX=a.pageX,!1},dragHandler:function(a){a.preventDefault(),this.isDragging=!0;var b=a;this.isTouchDevice()&&(b=a.touches[0]),console.debug("Move touch handler, pageX: "+b.pageX);var c=this.currentPageX-b.pageX;return this.currentPageX=b.pageX,this.updatePageWhileDragging(this.$element,c,this.size),this.finishDragging=!0,!1},endTouchHandler:function(a){console.debug("End touch handler");var b=new Date,d=this.initialPageX-a.pageX;return this.isDragging=!1,c("body").removeClass("noSelect"),this.$element[0].ontouchmove=null,this.$element[0].ontouchend=null,document.ontouchmove=null,document.ontouchend=null,(0===d||!this.isDragging)&&b.getTime()-this.touchStartTime.getTime()<this.touchClickDelayMS?c(a.target).trigger("itemTouched"):this.updatePageAfterDragging(this.initialPageX,a),!1},mouseUpHandler:function(a){console.debug("End touch handler");var b=new Date,d=this.initialPageX-a.pageX;return c("body").removeClass("noSelect"),this.$element.off("mousemove",this.dragHandlerProxy),this.$element.off("mouseup",this.mouseUpHandlerProxy),c(document).off("mousemove",this.dragHandlerProxy),c(document).off("mouseup",this.mouseUpHandlerProxy),0===d&&b.getTime()-this.touchStartTime.getTime()<this.touchClickDelayMS?c(a.target).trigger("itemTouched"):this.updatePageAfterDragging(this.initialPageX,a),!1}});b.exports=e},{"class":"MYBPmw",jquery:"ERBBMR"}],jquery:[function(a,b){b.exports=a("ERBBMR")},{}],ERBBMR:[function(a,b){b.exports=jQuery},{}],13:[function(a,b){var c=a("jquery"),d=a("class"),e=".pagination .item-container",f=".item",g=1.5,h='<div class="pagination"><div class="item-container"></div></div>',i='<div class="item"></div>',j="selected",k={onPageSelected:function(){},pageCount:0};b.exports=d.extend({itemCount:0,init:function(a,b){b=c.extend({},k,b),this.notifyPageSelected=b.onPageSelected,this.render(a,b.pageCount),this.enablePaginationUI(),this._getItems().first().addClass(j)},render:function(a,b){this.$itemContainer=this._renderContainer(a),this._renderPageItems(this.$itemContainer,b);var c=this.itemCount*g;return this.$itemContainer.width(c+"em"),this.$itemContainer},_renderContainer:function(a){var b=h;return a.append(b),a.find(e)},_renderPageItems:function(a,b){for(var c=0;b>c;c++)this.addItem()},_getItems:function(){return this.$itemContainer.find(f)},addItem:function(){this.$itemContainer.append(c(i)),this.itemCount++},removeItem:function(){0!==this.itemCount&&(this._getItems().last().remove(),this.itemCount--)},select:function(a){var b=this._getItems();b.removeClass(j),b.eq(a).addClass(j)},onPageItemClick:function(a){var b=c(a.currentTarget);if(!b.hasClass(j)){var d=b.index();console.debug("Page item clicked: "+d),this.select(d),this.notifyPageSelected(d)}},enablePaginationUI:function(){this.disablePaginationUI(),this.$itemContainer.on("click",f,c.proxy(this.onPageItemClick,this))},disablePaginationUI:function(){this.$itemContainer.off("click",f)}})},{"class":"MYBPmw",jquery:"ERBBMR"}]},{},["FGiwJs"]);